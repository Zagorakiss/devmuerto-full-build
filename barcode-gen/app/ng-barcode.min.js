!function(){"use strict";function b(){var b={bindToController:!0,controller:e,controllerAs:"barcodeCtrl",restrict:"AEC",template:'<img width="100%" height="100%" ng-if="barcodeCtrl.input" ng-src="{{barcodeCtrl.base64Barcode()}}" />',scope:{input:"@ngBarcodeInput",code:"@ngBarcodeCode",colorBarcode:"@ngBarcodeColor",colorBackground:"@ngBarcodeBackground"}};return b}function e(){function b(){i.code39.BMP={};for(var b in i.code39.plain){var w=i.code39.plain[b];i.code39.BMP[b]="";for(var a=0;9>a;a++){switch(w.charAt(a)){case"B":i.code39.BMP[b]+="\x00\x00\x00\x00\x00\x00\x00\x00\x00";break;case"b":i.code39.BMP[b]+="\x00\x00\x00";break;case"W":i.code39.BMP[b]+="";break;case"w":i.code39.BMP[b]+=""}i.code39.BMP[b]+=""}}return e()}function e(){var b="",e=c.code,w=c.input.toUpperCase(),a=r(c.colorBarcode,1),o=r(c.colorBackground,2),B=[a,o];switch(e){case"code39":for(var l="*"+w.trim()+"*",d=0;d<l.length;d++)b+=i.code39.BMP[l.charAt(d)];break;default:return void alert("Code"+e+" not implemented")}return n([b],B)}function w(b){var e="",a=0;do{var n=b.charCodeAt(a++),o=b.charCodeAt(a++),r=b.charCodeAt(a++),B=n>>2,c=(3&n)<<4|o>>4,i=(15&o)<<2|r>>6,l=63&r;isNaN(o)?i=l=64:isNaN(r)&&(l=64),e=e+w.keyStr.charAt(B)+w.keyStr.charAt(c)+w.keyStr.charAt(i)+w.keyStr.charAt(l)}while(a<b.length);return e}function a(b,e){if(0>b||0>e)throw"Negative numbers not allowed.";for(var w=1,a="",n=0;e>n;n++){if(0==b)r=0;else{var o=256*w,r=b%o;b-=r,r/=w,w=o}a+=String.fromCharCode(r)}if(0!=b)throw"Overflow, number too big for string length";return a}function n(b,e){var n="BMxxxx\x00\x00\x00\x00yyyy",o=b.length,r=o&&b[0].length,B=a(o,4),c=a(r,4),i=a(40,4),l=8,d=a(l,2),t=i+c+B+"\x00"+d+"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";if(24!=l){for(var p=[],x=0,W=0,u=0,f=0;256>f;f++)f<e.length&&(x=e[f][0],W=e[f][1],u=e[f][2]),p[f]=String.fromCharCode(u,W,x,0);p=p.join("")}var h;h=r%4==1?"\x00\x00\x00":r%4==2?"\x00\x00":r%4==3?"\x00":"";for(var g=[],s=0;o>s;s++)g[s]=b[o-s-1]+h;var v=n+t+p+g.join("");return v=v.replace(/yyyy/,a(n.length+t.length+p.length,4)),v=v.replace(/xxxx/,a(v.length,4)),"data:image/bmp;base64,"+w(v)}function o(b){var e=null,w=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;b=b.replace(w,function(b,e,w,a){return e+e+w+w+a+a});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);return e=a?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[0,0,0]}function r(b,e){return b?B(b)?JSON.parse(b):o(b):1===e?[0,0,0]:[255,255,255]}function B(b){try{return JSON.parse(b)}catch(e){return!1}}var c=this,i={};i.code39={},i.code39.plain={},i.code39.plain[0]="bwbWBwBwb",i.code39.plain[1]="BwbWbwbwB",i.code39.plain[2]="bwBWbwbwB",i.code39.plain[3]="BwBWbwbwb",i.code39.plain[4]="bwbWBwbwB",i.code39.plain[5]="BwbWBwbwb",i.code39.plain[6]="bwBWBwbwb",i.code39.plain[7]="bwbWbwBwB",i.code39.plain[8]="BwbWbwBwb",i.code39.plain[9]="bwBWbwBwb",i.code39.plain.A="BwbwbWbwB",i.code39.plain.B="bwBwbWbwB",i.code39.plain.C="BwBwbWbwb",i.code39.plain.D="bwbwBWbwB",i.code39.plain.E="BwbwBWbwb",i.code39.plain.F="bwBwBWbwb",i.code39.plain.G="bwbwbWBwB",i.code39.plain.H="BwbwbWBwb",i.code39.plain.I="bwBwbWBwb",i.code39.plain.J="bwbwBWBwb",i.code39.plain.K="BwbwbwbWB",i.code39.plain.L="bwBwbwbWB",i.code39.plain.M="BwBwbwbWb",i.code39.plain.N="bwbwBwbWB",i.code39.plain.O="BwbwBwbWb",i.code39.plain.P="bwBwBwbWb",i.code39.plain.Q="bwbwbwBWB",i.code39.plain.R="BwbwbwBWb",i.code39.plain.S="bwBwbwBWb",i.code39.plain.T="bwbwBwBWb",i.code39.plain.U="BWbwbwbwB",i.code39.plain.V="bWBwbwbwB",i.code39.plain.W="BWBwbwbwb",i.code39.plain.X="bWbwBwbwB",i.code39.plain.Y="BWbwBwbwb",i.code39.plain.Z="bWBwBwbwb",i.code39.plain["-"]="bWbwbwBwB",i.code39.plain["."]="BWbwbwBwb",i.code39.plain[" "]="bWBwbwBwb",i.code39.plain["*"]="bWbwBwBwb",i.code39.plain.$="bWbWbWbwb",i.code39.plain["/"]="bWbWbwbWb",i.code39.plain["+"]="bWbwbWbWb",i.code39.plain["%"]="bwbWbWbWb",i.I25={},i.I25.plain={},i.I25.plain.START="wwwwwwwwwwbwbw",i.I25.plain.END="Bwbwwwwwwwwww",i.I25.plain[0]="bbBBb",i.I25.plain[1]="BbbbB",i.I25.plain[2]="bBbbB",i.I25.plain[3]="BBbbb",i.I25.plain[4]="bbBbB",i.I25.plain[5]="BbBbb",i.I25.plain[6]="bBBbb",i.I25.plain[7]="bbbBB",i.I25.plain[8]="BbbBb",i.I25.plain[9]="bBbBb",w.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c.base64Barcode=b}angular.module("ngBarcode",[]).directive("ngBarcode",b)}();
